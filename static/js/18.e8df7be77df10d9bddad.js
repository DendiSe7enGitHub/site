webpackJsonp([18],{"/JiI":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("hr"),t._v(" "),a("h2",{attrs:{id:"name%3A-2018-12-14-translate-10layout%3A-posttitle%3A-'%5B%E8%AF%91%5Ddevtools-tips-day10-%3Acustom-formatters'date%3A-2018-12-14categories%3A-sitetags%3A-%5Bchrome%2C-tools%5Dcoverimg%3A-'http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cgy1g0rzpb5basj23zq2i244q.jpg'info%3A-'%E6%9C%AC%E6%96%87%E6%98%AF%E4%BD%9C%E8%80%85-%5Btomek-su%C5%82kowski%5D-%E5%8F%91%E5%B8%83%E5%9C%A8-%5Bmedium%5D%E4%B8%8A%E7%9A%84%E4%B8%80%E4%B8%AA%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC10%E7%AF%87%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%B3%BB%E5%88%97%E4%B8%80%E5%85%B1%E6%9C%8924%E7%AF%87'"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name%3A-2018-12-14-translate-10layout%3A-posttitle%3A-'%5B%E8%AF%91%5Ddevtools-tips-day10-%3Acustom-formatters'date%3A-2018-12-14categories%3A-sitetags%3A-%5Bchrome%2C-tools%5Dcoverimg%3A-'http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cgy1g0rzpb5basj23zq2i244q.jpg'info%3A-'%E6%9C%AC%E6%96%87%E6%98%AF%E4%BD%9C%E8%80%85-%5Btomek-su%C5%82kowski%5D-%E5%8F%91%E5%B8%83%E5%9C%A8-%5Bmedium%5D%E4%B8%8A%E7%9A%84%E4%B8%80%E4%B8%AA%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC10%E7%AF%87%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%B3%BB%E5%88%97%E4%B8%80%E5%85%B1%E6%9C%8924%E7%AF%87'","aria-hidden":"true"}},[t._v("#")]),t._v(" name: 2018-12-14-Translate-10\nlayout: post\ntitle: '[译]Devtools tips day10 :custom formatters'\ndate: 2018-12-14\ncategories: Site\ntags: [Chrome, Tools]\ncoverimg: 'http://ww1.sinaimg.cn/large/88b26e1cgy1g0rzpb5basj23zq2i244q.jpg'\ninfo: '本文是作者 [Tomek Sułkowski] 发布在 [medium]上的一个系列的第10篇，这个系列一共有24篇'")]),t._v(" "),a("blockquote",[a("p",[t._v("本文"),a("a",{attrs:{href:"https://juejin.im/post/5c1365a9e51d452f8e6034cb"}},[t._v("掘金同步连接")])])]),t._v(" "),a("h3",{attrs:{id:"%E7%89%B9%E5%88%AB%E5%A3%B0%E6%98%8E"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E7%89%B9%E5%88%AB%E5%A3%B0%E6%98%8E","aria-hidden":"true"}},[t._v("#")]),t._v(" 特别声明")]),t._v(" "),a("p",[t._v("本文是作者 "),a("a",{attrs:{href:"https://twitter.com/sulco"}},[t._v("Tomek Sułkowski")]),t._v(" 发布在 "),a("a",{attrs:{href:"https://medium.com/@tomsu"}},[t._v("medium")]),t._v(" 上的一个系列。"),a("br"),t._v(" "),a("a",{attrs:{href:"https://juejin.im/post/5c09a80151882521c81168a2"}},[t._v("授权的记录在这里")]),a("br")]),t._v(" "),a("h3",{attrs:{id:"%E6%AD%A3%E6%96%87"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%AD%A3%E6%96%87","aria-hidden":"true"}},[t._v("#")]),t._v(" 正文")]),t._v(" "),a("p",[t._v("在马上就要迎来假期的这 24 天里，我将会发布一系列短篇的文章，关于如何更加有意思的使用开发工具，"),a("a",{attrs:{href:"https://juejin.im/post/5c11809ef265da61141c76f1"}},[t._v("昨天")]),t._v("我们测量了一下时间 ，今天我们来聊聊...")]),t._v(" "),a("h3",{attrs:{id:"28.-custom-formatters-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BD%AC%E6%8D%A2%E5%99%A8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#28.-custom-formatters-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BD%AC%E6%8D%A2%E5%99%A8","aria-hidden":"true"}},[t._v("#")]),t._v(" 28. "),a("code",[t._v("Custom Formatters")]),t._v(" 自定义格式化转换器")]),t._v(" "),a("p",[a("code",[t._v("DevTools")]),t._v(" 的 "),a("code",[t._v("console")]),t._v(" 默认对你的对象的转化的方式在大多数的情况下都是很有用的，但是有时候你期望与众不同。很幸运的是，因为默认的方式很...默认 - 所以我们可以自定义自己的输出对象的方式。做这个事情的函数被称为 "),a("code",[t._v("Custom Formatter")]),t._v(" 在我们写一个之前，我们需要在 "),a("code",[t._v("DevTools")]),t._v(" 的设置 (在 "),a("code",[t._v("DevTools")]),t._v(" 的 "),a("code",[t._v("⋮")]),t._v(" 下拉框找到设置，或者按下 "),a("code",[t._v("F1")]),t._v(" ) 中把对应的设置打开:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/14/167abc4fc44e3add?w=2000&h=1396&f=png&s=336889",alt:""}})]),t._v(" "),a("p",[t._v("所以，这样的 "),a("code",[t._v("formatter")]),t._v(" 应该长什么样呢？ 它是一个最多有三个方法的对象：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("header")]),t._v(" —  处理如何展示在 "),a("code",[t._v("console")]),t._v(" 的日志中的主要部分。")]),t._v(" "),a("li",[a("code",[t._v("hasbody")]),t._v(" —  如果你想显示一个用来展开对象的"),a("code",[t._v("▶")]),t._v(" 箭头，返回 "),a("code",[t._v("true")])]),t._v(" "),a("li",[a("code",[t._v("body")]),t._v(" - 定义将会被显示在展开部分的内容中。")])]),t._v(" "),a("p",[t._v("让我们一起来看一个基础的 自定义"),a("code",[t._v("formatter")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/14/167abc4fbd4b892f?w=1092&h=610&f=png&s=48708",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("我移除了循环的结构的错误处理，让它看起来更加简洁")])]),t._v(" "),a("p",[a("code",[t._v("header")]),t._v(" 方法返回了一个 "),a("a",{attrs:{href:"http://www.jsonml.org/"}},[t._v("JsonML")]),t._v(" (译者注： "),a("code",[t._v("JsonML")]),t._v(": "),a("code",[t._v("JSON Markup Language")]),t._v(" "),a("code",[t._v("JSON")]),t._v(" 标记语言)数组，由这些组成：")]),t._v(" "),a("ol",[a("li",[t._v("标签名")]),t._v(" "),a("li",[t._v("属性对象")]),t._v(" "),a("li",[t._v("内容 (文本值或者其他元素)")])]),t._v(" "),a("p",[t._v("(如果这个看起来很眼熟的话，那可能是因为你之前写过一些"),a("a",{attrs:{href:"https://reactjs.org/docs/react-without-jsx.html"}},[t._v("React 代码")]),t._v(" 😄)")]),t._v(" "),a("p",[t._v("在输出的时候，这个简单的 "),a("code",[t._v("formatter")]),t._v(" 对于每一层嵌套，直接以 7 个空格的缩进打印这个对象。所以我们的输出现在看起来是这样：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/14/167abc4fc493cb88?w=884&h=654&f=gif&s=941282",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"29.%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BD%AC%E6%8D%A2%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#29.%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BD%AC%E6%8D%A2%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5","aria-hidden":"true"}},[t._v("#")]),t._v(" 29.自定义格式化转换器的应用实践")]),t._v(" "),a("p",[t._v("现在有好几种 "),a("code",[t._v("custom formatter")]),t._v(" (自定义格式化转换器)供你使用，例如：你可以在这个"),a("a",{attrs:{href:"https://github.com/andrewdavey/immutable-devtools"}},[t._v("immutable-devtools ")]),t._v("仓库中找到对于"),a("a",{attrs:{href:"https://facebook.github.io/immutable-js/"}},[t._v("Immutable.js")]),t._v(" 结构的完美展示。但是你同样可以自己造一个。")]),t._v(" "),a("p",[t._v("一般来说，每当你有一些不寻常的对象的时候，或者大量的日志(最好避免这样的情况，但是有时候很有用)而且你想从中做区分的时候，你可以采用一个 "),a("code",[t._v("custom formatter")]),t._v(" (自定义格式转换器)来处理。")]),t._v(" "),a("p",[t._v("一个很实用的窍门就是，直接将你不关心，不需要区别对待的对象过滤出来，这种情况，直接在 "),a("code",[t._v("header")]),t._v(" 方法里面 "),a("code",[t._v("return null")]),t._v("。让 "),a("code",[t._v("DevTools")]),t._v(" 使用默认的格式化方式来处理这些值。")]),t._v(" "),a("p",[t._v("好了，撇开实用性，你同样可以在它上面找点乐子 - 这儿有一个关于"),a("code",[t._v("console")]),t._v(" 方法的蠢萌例子：它叫做 "),a("code",[t._v("console.clown()")]),t._v(" 并且他将打印对象进行转换，而且在对象前面加上一个 emoji 表情 ... 可能是为了更好的显示吧，我猜 😁")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/14/167abc4fc41415ab?w=1132&h=1754&f=png&s=179986",alt:""}})]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://gist.github.com/sulco/e635a7511d5ff17d44fe9bb2ab8b3cc6"}},[t._v("源码在这里")]),t._v("为了方便大家尝试，源码贴在下面：")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-built_in"},[t._v("window")]),t._v(".devtoolsFormatters = [{\n    "),a("span",{staticClass:"hljs-attr"},[t._v("header")]),t._v(": "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[t._v("function")]),t._v("("),a("span",{staticClass:"hljs-params"},[t._v("obj")]),t._v(")")]),t._v("{\n      "),a("span",{staticClass:"hljs-keyword"},[t._v("if")]),t._v(" (!obj.__clown) {\n        "),a("span",{staticClass:"hljs-keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"hljs-literal"},[t._v("null")]),t._v(";\n      }\n      "),a("span",{staticClass:"hljs-keyword"},[t._v("delete")]),t._v(" obj.__clown;\n      "),a("span",{staticClass:"hljs-keyword"},[t._v("const")]),t._v(" style = "),a("span",{staticClass:"hljs-string"},[t._v("`\n        color: red;\n        border: dotted 2px gray;\n        border-radius: 4px;\n        padding: 5px;\n      `")]),t._v("\n      "),a("span",{staticClass:"hljs-keyword"},[t._v("const")]),t._v(" content = "),a("span",{staticClass:"hljs-string"},[t._v("`🤡 "),a("span",{staticClass:"hljs-subst"},[t._v("${"),a("span",{staticClass:"hljs-built_in"},[t._v("JSON")]),t._v(".stringify(obj, "),a("span",{staticClass:"hljs-literal"},[t._v("null")]),t._v(", "),a("span",{staticClass:"hljs-number"},[t._v("2")]),t._v(")}")]),t._v("`")]),t._v(";\n\n      "),a("span",{staticClass:"hljs-keyword"},[t._v("try")]),t._v(" {\n        "),a("span",{staticClass:"hljs-keyword"},[t._v("return")]),t._v(" ["),a("span",{staticClass:"hljs-string"},[t._v("'div'")]),t._v(", {style}, content]\n      } "),a("span",{staticClass:"hljs-keyword"},[t._v("catch")]),t._v(" (err) { "),a("span",{staticClass:"hljs-comment"},[t._v("// for circular structures")]),t._v("\n        "),a("span",{staticClass:"hljs-keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"hljs-literal"},[t._v("null")]),t._v(";  "),a("span",{staticClass:"hljs-comment"},[t._v("// use the default formatter")]),t._v("\n      }\n    },\n    "),a("span",{staticClass:"hljs-attr"},[t._v("hasBody")]),t._v(": "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[t._v("function")]),t._v("("),a("span",{staticClass:"hljs-params"}),t._v(")")]),t._v("{\n        "),a("span",{staticClass:"hljs-keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"hljs-literal"},[t._v("false")]),t._v(";\n    }\n}]\n\n"),a("span",{staticClass:"hljs-built_in"},[t._v("console")]),t._v(".clown = "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[t._v("function")]),t._v(" ("),a("span",{staticClass:"hljs-params"},[t._v("obj")]),t._v(") ")]),t._v("{\n  "),a("span",{staticClass:"hljs-built_in"},[t._v("console")]),t._v(".log({...obj, "),a("span",{staticClass:"hljs-attr"},[t._v("__clown")]),t._v(": "),a("span",{staticClass:"hljs-literal"},[t._v("true")]),t._v("});\n}\n\n"),a("span",{staticClass:"hljs-built_in"},[t._v("console")]),t._v(".log({"),a("span",{staticClass:"hljs-attr"},[t._v("message")]),t._v(": "),a("span",{staticClass:"hljs-string"},[t._v("'hello!'")]),t._v("});   "),a("span",{staticClass:"hljs-comment"},[t._v("// normal log")]),t._v("\n"),a("span",{staticClass:"hljs-built_in"},[t._v("console")]),t._v(".clown({"),a("span",{staticClass:"hljs-attr"},[t._v("message")]),t._v(": "),a("span",{staticClass:"hljs-string"},[t._v("'hello!'")]),t._v("}); "),a("span",{staticClass:"hljs-comment"},[t._v("// a silly log")]),t._v("\n")])]),t._v(" "),a("p",[t._v("正如你所见我正在使用 "),a("code",[t._v("console.clown")]),t._v(" 方法来给打印的对象添加一个特殊的属性，所以我可以将它区分出来并且在 "),a("code",[t._v("formatter")]),t._v(" (转换器) 中对它进行区别对待，但是在大部分现实的案例中，你可以这样：比如检查这个对象是不是某一个特殊类的实例等等。")]),t._v(" "),a("p",[t._v("Oh，"),a("code",[t._v("clown")]),t._v(" 打印出来了什么东西？ 在下面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/14/167abc4fbd5ae3f6?w=896&h=450&f=png&s=42023",alt:""}})]),t._v(" "),a("p",[t._v("今天的分享就到这里~")]),t._v(" "),a("p",[t._v("惯例： 如果你从这里学到了一些新东西")]),t._v(" "),a("p",[t._v("→ 你可以点个赞再走嘛~"),a("br"),t._v("\n→ 关注我："),a("a",{attrs:{href:"https://twitter.com/sulco"}},[t._v("Twitter：Tomek Sułkowski")])]),t._v(" "),a("h3",{attrs:{id:"%E5%85%B6%E4%BB%96%E7%B3%BB%E5%88%97"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%85%B6%E4%BB%96%E7%B3%BB%E5%88%97","aria-hidden":"true"}},[t._v("#")]),t._v(" 其他系列")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c09a80151882521c81168a2"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第一天：console 中的'$'")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0a0d5ff265da61117a1c75"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第二天：copying & saving")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0a8ce6f265da6141716329"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第三天：console methods")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0d2d85f265da612061a62f"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第四天：the Elements panel（元素面板）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0edc31f265da611c26d08a"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第五天：console 的 log 中,让人疑惑的案例")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0ee12551882545e24ef291"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第六天：command 菜单")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c0fdfc46fb9a049b13e0d82"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第七天：异步 consle 的趣味小窍门")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c10d9d1f265da6118019028"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第八天：Color picker（颜色选择器）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c11809ef265da61141c76f1"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第九天：给 console 计时")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1365a9e51d452f8e6034cb"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十天：custom formatters（自定义格式转换器）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c137ac3f265da617974b675"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十一天：style editors continued（样式编辑器后续）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c16d943518825566d2365f3"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十二天：忍者日志打印！(the ninja logs)")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c18b2d66fb9a049d235fc82"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十三天：对象 & 方法")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c18b375f265da614e2c02e1"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十四天：其他快捷键~")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1b09f9f265da616f6feb9e"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十五天：Twitter day~")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1b16556fb9a049ff4e14dd"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十六天：断点")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1b3393e51d45482717a2b7"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十七天：再会console")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1b3cece51d452d1871ae37"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十八天：Drawer 里的秘密")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c1b4df45188255e9b61fde5"}},[t._v("【译】你不知道的 Chrome 调试工具技巧 第十九天：深入 Drawer ")])])]),t._v(" "),a("h3",{attrs:{id:"%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E","aria-hidden":"true"}},[t._v("#")]),t._v(" 写在最后")]),t._v(" "),a("p",[t._v("如果你对我的翻译表示肯定，也可以关注我一波哦~\n顺便我的开源项目，求一波 star→ "),a("a",{attrs:{href:"https://github.com/DendiSe7enGitHub/vue-blog-generater"}},[t._v("看这里, 美丽的博客系统")])]),t._v(" "),a("h3",{attrs:{id:"%E4%BD%9C%E8%80%85%E5%9C%A8twitter%E4%B8%8A%E6%8E%A8%E8%8D%90%E6%88%91%E4%BB%AC%E7%9A%84%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91%E5%95%A6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E4%BD%9C%E8%80%85%E5%9C%A8twitter%E4%B8%8A%E6%8E%A8%E8%8D%90%E6%88%91%E4%BB%AC%E7%9A%84%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91%E5%95%A6","aria-hidden":"true"}},[t._v("#")]),t._v(" 作者在Twitter上推荐我们的中文翻译啦")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/13/167a5ae8a72ac531?imageView2/2/w/800/q/100",alt:""}})])])}]},r=a("VU/8")(null,e,!1,null,null,null);s.default=r.exports}});
//# sourceMappingURL=18.e8df7be77df10d9bddad.js.map