{"version":3,"sources":["webpack:///./src/posts/2019-01-20-js.md?38b9","webpack:///./src/posts/2019-01-20-js.md"],"names":["_019_01_20_js","render","this","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","_v","attrs","id","href","aria-hidden","start","src","alt","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/29.51af15665d5dd98a48d8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('hr'),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"name%3A-2019-01-20-jslayout%3A-posttitle%3A-'%E5%89%8D%E7%AB%AF%E6%80%AA%E8%B0%88-02-%E4%BB%8E-dva-%E7%9A%84-effect-%E5%88%B0-generator-%2B-promise-%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B'date%3A-2019-01-20categories%3A-sitetags%3A-%5Bjavascript%5Dcoverimg%3A-'http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cly1g4z8u1notpj234j4otu0x.jpg'info%3A-'dva-%E9%87%8C%E5%9C%A8%E5%A4%84%E7%90%86%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%97%B6%EF%BC%8C%E8%AE%B2-action-%E5%88%86%E4%B8%BA%E4%BA%86-effect-%E5%92%8C-action%EF%BC%8C%E8%BF%99%E5%92%8C%E6%88%91%E4%BB%AC%E4%B8%8A%E8%8A%82%E8%AF%B4%E7%9A%84-generator-%E6%9C%89%E4%BB%80%E4%B9%88%E5%85%B3%E7%B3%BB%E5%91%A2%EF%BC%9F'\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#name%3A-2019-01-20-jslayout%3A-posttitle%3A-'%E5%89%8D%E7%AB%AF%E6%80%AA%E8%B0%88-02-%E4%BB%8E-dva-%E7%9A%84-effect-%E5%88%B0-generator-%2B-promise-%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B'date%3A-2019-01-20categories%3A-sitetags%3A-%5Bjavascript%5Dcoverimg%3A-'http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cly1g4z8u1notpj234j4otu0x.jpg'info%3A-'dva-%E9%87%8C%E5%9C%A8%E5%A4%84%E7%90%86%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E6%97%B6%EF%BC%8C%E8%AE%B2-action-%E5%88%86%E4%B8%BA%E4%BA%86-effect-%E5%92%8C-action%EF%BC%8C%E8%BF%99%E5%92%8C%E6%88%91%E4%BB%AC%E4%B8%8A%E8%8A%82%E8%AF%B4%E7%9A%84-generator-%E6%9C%89%E4%BB%80%E4%B9%88%E5%85%B3%E7%B3%BB%E5%91%A2%EF%BC%9F'\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" name: 2019-01-20-js\\nlayout: post\\ntitle: '前端怪谈 02 从 Dva 的 Effect 到 Generator + Promise 实现异步编程'\\ndate: 2019-01-20\\ncategories: Site\\ntags: [Javascript]\\ncoverimg: 'http://ww1.sinaimg.cn/large/88b26e1cly1g4z8u1notpj234j4otu0x.jpg'\\ninfo: 'Dva 里在处理异步请求时，讲 action 分为了 Effect 和 Action，这和我们上节说的 Generator 有什么关系呢？'\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E4%BD%A0%E8%83%BD%E5%AD%A6%E5%88%B0%E4%BB%80%E4%B9%88\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#%E4%BD%A0%E8%83%BD%E5%AD%A6%E5%88%B0%E4%BB%80%E4%B9%88\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 你能学到什么\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"如何使用 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 实现异步编程\")]),_vm._v(\" \"),_c('li',[_vm._v(\"异步编程的原理解析\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E5%89%8D%E8%A8%80\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#%E5%89%8D%E8%A8%80\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 前言\")]),_vm._v(\" \"),_c('p',[_vm._v(\"结合 \"),_c('a',{attrs:{\"href\":\"https://juejin.im/post/5c40484bf265da61171cfb4d\"}},[_vm._v(\"上一篇文章\")]),_vm._v(\" ，我们来聊聊 \"),_c('code',[_vm._v(\"Generator\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 基础原理\")]),_vm._v(\" \"),_c('p',[_vm._v(\"说到异步编程，你想到的是\"),_c('code',[_vm._v(\"async\")]),_vm._v(\" 和 \"),_c('code',[_vm._v(\"await\")]),_vm._v(\" ，但那也只是 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 的语法糖而已。\"),_c('a',{attrs:{\"href\":\"https://dvajs.com/guide/concepts.html#effect\"}},[_vm._v(\"dva\")]),_vm._v(\" 中有一个 \"),_c('code',[_vm._v(\"Effect\")]),_vm._v(\" 的概念，它就是使用 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 来解决异步请求的问题，我们也来聊一聊 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" + \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 如何异步编程：\")]),_vm._v(\" \"),_c('p',[_vm._v(\"开始之前，我们需要了解一些基本的概念：\")]),_vm._v(\" \"),_c('ul',[_c('li',[_c('p',[_c('code',[_vm._v(\"Generator\")]),_vm._v(\"作为 \"),_c('code',[_vm._v(\"ES6\")]),_vm._v(\" 中使用协程的解决方案来处理异步编程的具体实现，它的特点是: \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 中可以使用 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 关键字配合实例 \"),_c('code',[_vm._v(\"gen\")]),_vm._v(\" 调用 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 方法，来将其内部的语句分割执行。 简言之 : \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 被调用一次，则 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句被执行一句，随着 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 调用， \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句被依次执行。\")])]),_vm._v(\" \"),_c('li',[_c('p',[_c('code',[_vm._v(\"Promise\")]),_vm._v(\"表示一个异步操作的最终状态（完成或失败），以及其返回的值。参考\"),_c('a',{attrs:{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\"}},[_vm._v(\"Promise-MDN\")])])])]),_vm._v(\" \"),_c('p',[_vm._v(\"所以,异步编程使用 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 和 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 来实现的原理是什么呢？\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"因为 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 本身 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句是分离执行的，所以我们利用这一点，在 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句中返回一个 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 对象\")]),_vm._v(\" \"),_c('li',[_vm._v(\"首次调用 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 中的 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 后, 假设返回值叫 \"),_c('code',[_vm._v(\"result\")]),_vm._v(\" ,那么此时 \"),_c('code',[_vm._v(\"result.value\")]),_vm._v(\" 就是我们定义在 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句中的 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 对象\")])]),_vm._v(\" \"),_c('p',[_c('em',[_vm._v(\"注意：在这一步，我们已经把原来的执行流程暂停，转而执行 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 的内容,已经实现了控制异步代码的执行，因为此时我们如果不继续执行 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 则 \"),_c('code',[_vm._v(\"generator\")]),_vm._v(\" 中位于当前被执行的 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 后面的内容，将不会继续执行,这已经达到了我们需要的效果\")])]),_vm._v(\" \"),_c('ol',{attrs:{\"start\":\"3\"}},[_c('li',[_c('p',[_vm._v(\"接下来我们就是在执行完当前 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 之后，让代码继续往下执行，直到遇到下一个 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句:\"),_c('br'),_vm._v(\" \"),_c('em',[_vm._v(\"这一步是最关键的\")]),_vm._v(\"  所以我们怎么做呢:\")]),_vm._v(\" \"),_c('p',[_vm._v(\"步骤1： 在当前的 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 的 \"),_c('code',[_vm._v(\"then()\")]),_vm._v(\" 方法中，继续执行 \"),_c('code',[_vm._v(\"gen.next()\")]),_c('br')]),_vm._v(\" \"),_c('p',[_vm._v(\"步骤2： 当 \"),_c('code',[_vm._v(\"gen.next()\")]),_vm._v(\" 返回的结果 \"),_c('code',[_vm._v(\"result.done === true\")]),_vm._v(\" 时,我们拿到 \"),_c('code',[_vm._v(\"result.value\")]),_vm._v(\"【也就是一个新的 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 对象】再次执行并且在它的\"),_c('code',[_vm._v(\"then()\")]),_vm._v(\" 方法中继续上面的步骤1，直至 \"),_c('code',[_vm._v(\"result.done === false\")]),_vm._v(\" 的时候。这时候调用 \"),_c('code',[_vm._v(\"resolve()\")]),_vm._v(\" 使 \"),_c('code',[_vm._v(\"promise\")]),_vm._v(\" 状态改变，因为所有的 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句已经被执行完。\")])])]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"步骤1 保证了我们可以走到下一个 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句\")]),_vm._v(\" \"),_c('li',[_vm._v(\"步骤2 保证了下一个 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句执行完不会中断，直至 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 中的最后一个 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句被执行完。\\n流程示意图:\")])]),_vm._v(\" \"),_c('p',[_c('img',{attrs:{\"src\":\"https://user-gold-cdn.xitu.io/2019/1/18/1685f025630f02bd?w=2404&h=1328&f=png&s=200402\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 具体实现\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_c('a',{attrs:{\"href\":\"https://github.com/tj/co\"}},[_vm._v(\"co\")]),_vm._v(\" 是著名大神 \"),_c('a',{attrs:{\"href\":\"https://twitter.com/tjholowaychuk\"}},[_vm._v(\"TJ\")]),_vm._v(\" 实现的 \"),_c('code',[_vm._v(\"Generator\")]),_vm._v(\" 的二次封装库，那么我们就从\"),_c('code',[_vm._v(\"co\")]),_vm._v(\"库中的一个demo开始，了解我们的整个异步请求封装实现：\")])]),_vm._v(\" \"),_c('pre',{staticClass:\"hljs\"},[_c('code',[_vm._v(\"co(\"),_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\"*(\"),_c('span',{staticClass:\"hljs-params\"}),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"yield\")]),_vm._v(\" me.loginAction(me.form);\\n    ...\\n});\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"在这里我们引入了\"),_c('code',[_vm._v(\"co\")]),_vm._v(\"库，并且用\"),_c('code',[_vm._v(\"co\")]),_vm._v(\"来包裹了一个\"),_c('code',[_vm._v(\"generator\")]),_vm._v(\"（生成器）对象。\"),_c('br'),_vm._v(\"\\n接下来我们看下\"),_c('code',[_vm._v(\"co\")]),_vm._v(\"对于包裹起来的\"),_c('code',[_vm._v(\"generator\")]),_vm._v(\"做了什么处理\")]),_vm._v(\" \"),_c('pre',{staticClass:\"hljs\"},[_c('code',[_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-title\"},[_vm._v(\"co\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-params\"},[_vm._v(\"gen\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 1.获取当前co函数的执行上下文环境,获取到参数列表\")]),_vm._v(\"\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"var\")]),_vm._v(\" ctx = \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"this\")]),_vm._v(\";\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"var\")]),_vm._v(\" args = slice.call(\"),_c('span',{staticClass:\"hljs-built_in\"},[_vm._v(\"arguments\")]),_vm._v(\", \"),_c('span',{staticClass:\"hljs-number\"},[_vm._v(\"1\")]),_vm._v(\");\\n  \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 2.返回一个Promise对象\")]),_vm._v(\"\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-built_in\"},[_vm._v(\"Promise\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-params\"},[_vm._v(\"resolve, reject\")]),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"//  判断并且使用ctx:context(上下文环境)和arg:arguments(参数列表)初始化generator并且复制给gen\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 注意:\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// gen = gen.apply(ctx, args)之后\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 我们调用 gen.next() 时，返回的是一个指针，实际的值是一个对象\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 对象的形式：{done:[false | true], value: ''}\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"typeof\")]),_vm._v(\" gen === \"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'function'\")]),_vm._v(\") gen = gen.apply(ctx, args);\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 当返回值不为gen时或者gen.next的类型不为function【实际是判断是否为generator】时\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 当前promise状态被设置为resolve而结束\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (!gen || \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"typeof\")]),_vm._v(\" gen.next !== \"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'function'\")]),_vm._v(\") \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" resolve(gen);\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 否则执行onFulfilled()\")]),_vm._v(\"\\n    onFulfilled();\\n  });\\n}\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"总结一下这里发生了什么\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"返回一个 \"),_c('code',[_vm._v(\"promise\")])]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"promise\")]),_vm._v(\" 中将被包裹的 \"),_c('code',[_vm._v(\"generator\")]),_vm._v(\" 实例化为一个指针，指向 \"),_c('code',[_vm._v(\"generator\")]),_vm._v(\" 中第一个 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句\")]),_vm._v(\" \"),_c('li',[_vm._v(\"判断 \"),_c('code',[_vm._v(\"generator\")]),_vm._v(\" 实例化出来的指针是否存在：如果没有 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句则指针不存在\\n判断指针 \"),_c('code',[_vm._v(\"gen.next()\")]),_vm._v(\" 方法是否为 \"),_c('code',[_vm._v(\"function\")]),_vm._v(\" ：如果不为 \"),_c('code',[_vm._v(\"function\")]),_vm._v(\" 证明无法执行 \"),_c('code',[_vm._v(\"gen.next()\")]),_vm._v(\"\\n条件有一项不满足就将 \"),_c('code',[_vm._v(\"promise\")]),_vm._v(\" 的状态置为 \"),_c('code',[_vm._v(\"resolve\")]),_vm._v(\"\\n否则执行 \"),_c('code',[_vm._v(\"onFulfilled()\")])])]),_vm._v(\" \"),_c('p',[_vm._v(\"接下来我们看下 \"),_c('code',[_vm._v(\"onFulfilled()\")]),_vm._v(\" 的实现\")]),_vm._v(\" \"),_c('pre',{staticClass:\"hljs\"},[_c('code',[_vm._v(\"    \"),_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-title\"},[_vm._v(\"onFulfilled\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-params\"},[_vm._v(\"res\")]),_vm._v(\") \")]),_vm._v(\"{\\n      \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 在执行onFulfilled时，定义了一个ret来储存gen.next(res)执行后的指针对象\")]),_vm._v(\"\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"var\")]),_vm._v(\" ret;\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"try\")]),_vm._v(\" {\\n        ret = gen.next(res);\\n      \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 在这里，yield语句抛出的值就是{value:me.loginAction(me.form), done:false}\")]),_vm._v(\"\\n      } \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"catch\")]),_vm._v(\" (e) {\\n        \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" reject(e);\\n      }\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 将ret对象传入到我们定义在promise中的next方法中\")]),_vm._v(\"\\n      next(ret);\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-literal\"},[_vm._v(\"null\")]),_vm._v(\";\\n    }\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"总结一下，\"),_c('code',[_vm._v(\"onFulfilled\")]),_vm._v(\" 最主要的工作就是\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"执行 \"),_c('code',[_vm._v(\"gen.next()\")]),_vm._v(\" 使代码执行到 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句\")]),_vm._v(\" \"),_c('li',[_vm._v(\"将执行后返回的结果传入我们自定义的 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 方法中\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"那么我们再来看 \"),_c('code',[_vm._v(\"next()\")]),_vm._v(\" 方法\")]),_vm._v(\" \"),_c('pre',{staticClass:\"hljs\"},[_c('code',[_vm._v(\"    \"),_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-title\"},[_vm._v(\"next\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-params\"},[_vm._v(\"ret\")]),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 进入next中首先判断我们传入的ret的done状态:\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 情况1:ret.done = true 代表我们这个generator中所有yield语句都已经执行完。\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 那么将ret.value传入到resolve()中，promise的状态变成解决，整个过程结束。\")]),_vm._v(\"\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (ret.done) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" resolve(ret.value);\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 情况2:当前ret.done = false 代表generator还未将所有的yield语句执行完，那么这时候\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 我们把当前上下文和ret.value传入toPromise中，将其转换为对应的Promise对象`value`\")]),_vm._v(\"\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"var\")]),_vm._v(\" value = toPromise.call(ctx, ret.value);\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (value && isPromise(value)) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" value.then(onFulfilled, onRejected);\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 当value确实是一个promise对象的时候，return value.then(onFulfilled,onRejected)\")]),_vm._v(\"\\n    \"),_c('span',{staticClass:\"hljs-comment\"},[_vm._v(\"// 我们重新进入到了generator中，执行下一条yield语句\")]),_vm._v(\"\\n      \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" onRejected(\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-built_in\"},[_vm._v(\"TypeError\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'You may only yield a function, promise, generator, array, or object, '\")]),_vm._v(\"\\n        + \"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'but the following object was passed: \\\"'\")]),_vm._v(\" + \"),_c('span',{staticClass:\"hljs-built_in\"},[_vm._v(\"String\")]),_vm._v(\"(ret.value) + \"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'\\\"'\")]),_vm._v(\"));\\n    }\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"总结一下，\"),_c('code',[_vm._v(\"next\")]),_vm._v(\" 主要工作\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"判断上一次 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 语句的执行结果\")]),_vm._v(\" \"),_c('li',[_vm._v(\"将 \"),_c('code',[_vm._v(\"yield\")]),_vm._v(\" 的 \"),_c('code',[_vm._v(\"result\")]),_vm._v(\" 的 \"),_c('code',[_vm._v(\"value\")]),_vm._v(\" 值【其实就是我们要异步执行的 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 】\")]),_vm._v(\" \"),_c('li',[_vm._v(\"执行 \"),_c('code',[_vm._v(\"value\")]),_vm._v(\" 的 \"),_c('code',[_vm._v(\"then\")]),_vm._v(\" 方法，重新进入到 \"),_c('code',[_vm._v(\"onFulfilled\")]),_vm._v(\" 方法中，而在 \"),_c('code',[_vm._v(\"onFulfilled\")]),_vm._v(\" 中，我们又将进入到当前方法，如此循环的调用，实现了 \"),_c('code',[_vm._v(\"generator\")]),_vm._v(\" 和 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 的执行切换，从而实现了 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\" 的内容按照我们所定义的顺序执行。\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"有同学可能对这里的 \"),_c('code',[_vm._v(\"toPromise\")]),_vm._v(\" 方法有一些疑惑，我先把代码贴出来\")]),_vm._v(\" \"),_c('pre',{staticClass:\"hljs\"},[_c('code',[_c('span',{staticClass:\"hljs-function\"},[_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{staticClass:\"hljs-title\"},[_vm._v(\"toPromise\")]),_vm._v(\"(\"),_c('span',{staticClass:\"hljs-params\"},[_vm._v(\"obj\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (!obj) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" obj;\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (isPromise(obj)) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" obj;\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (isGeneratorFunction(obj) || isGenerator(obj)) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" co.call(\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"this\")]),_vm._v(\", obj);\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (\"),_c('span',{staticClass:\"hljs-string\"},[_vm._v(\"'function'\")]),_vm._v(\" == \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"typeof\")]),_vm._v(\" obj) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" thunkToPromise.call(\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"this\")]),_vm._v(\", obj);\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (\"),_c('span',{staticClass:\"hljs-built_in\"},[_vm._v(\"Array\")]),_vm._v(\".isArray(obj)) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" arrayToPromise.call(\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"this\")]),_vm._v(\", obj);\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"if\")]),_vm._v(\" (isObject(obj)) \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" objectToPromise.call(\"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"this\")]),_vm._v(\", obj);\\n  \"),_c('span',{staticClass:\"hljs-keyword\"},[_vm._v(\"return\")]),_vm._v(\" obj;\\n}\\n\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"其实这个函数做的事情就是，根据不同的类型进行转换，使得最后输出的类型都是一个 \"),_c('code',[_vm._v(\"Promise\")]),_vm._v(\"。那具体的转换细节，大家可以参考\"),_c('a',{attrs:{\"href\":\"https://github.com/tj/co/blob/master/index.js\"}},[_vm._v(\"co库的源码\")]),_vm._v(\"。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"至此实现异步操作的控制。\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-346ed132\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./build/markdown!./src/posts/2019-01-20-js.md\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-346ed132\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../build/markdown/index.js!./2019-01-20-js.md\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/posts/2019-01-20-js.md\n// module id = null\n// module chunks = "],"sourceRoot":""}